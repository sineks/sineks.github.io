<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"15.204647.xyz","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.10.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="DEEP OCEAN">
<meta property="og:url" content="http://15.204647.xyz/index.html">
<meta property="og:site_name" content="DEEP OCEAN">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="iubuntu">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://15.204647.xyz/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>DEEP OCEAN</title>
  




<link rel="dns-prefetch" href="sineks-waline-9uaq0kt0g-sineks.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">DEEP OCEAN</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">iubuntu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">16</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2022/Software-for-Keyboard-and-Mouse-Share/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/Software-for-Keyboard-and-Mouse-Share/" class="post-title-link" itemprop="url">Software-for-Keyboard-and-Mouse-Share</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-23 19:55:15" itemprop="dateCreated datePublished" datetime="2022-03-23T19:55:15+08:00">2022-03-23</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2022/Software-for-Keyboard-and-Mouse-Share/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2022/Software-for-Keyboard-and-Mouse-Share/" data-xid="/2022/Software-for-Keyboard-and-Mouse-Share/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>有多台电脑同时使用时，能用一套键盘鼠标同时操作，是一件十分愉快的事情。我在网上找了两款免费好用的软件，记录在此。</p>
<h2 id="Mouse-without-Borders"><a href="#Mouse-without-Borders" class="headerlink" title="Mouse without Borders"></a>Mouse without Borders</h2><p>这是微软官方出品的软件，免费使用。很显然，这款软件只能在Windows上使用。</p>
<p>官网地址：<a target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/download/details.aspx?id=35460">Download Microsoft Garage Mouse without Borders from Official Microsoft Download Center</a></p>
<p>软件的使用十分简单，在两台Windows电脑上下载安装好软件后，先设置其中一台电脑，生成<code>Security Key</code>。然后在另一台电脑上填写上这个Key，点击<code>Apply</code>一般就可以连接了。</p>
<p>这个软件比较好的一点，是不需要设置<code>主机</code>、<code>客户机</code>，任意一台都可以做主机，其余的机器只要填写上正确的<code>Security Key</code>即可。当然，所有电脑需要在同一局域网下。<br><img src="https://cdn.jsdelivr.net/gh/sineks/sineks.github.io@hexoimgs//img/202203232005183.png"></p>
<p>有个小技巧是，在软件的<code>IP Mappings</code>标签下，我们可以自己定义电脑跟IP的映射，这样找起电脑来很快。我没有自己设置IP映射时，连接过程很慢，甚至会失败。<br><img src="https://cdn.jsdelivr.net/gh/sineks/sineks.github.io@hexoimgs//img/202203232005845.png"></p>
<p>Mouse without Borders支持在两台机器间复制粘贴，即A机器上复制的内容可以到B机器上粘贴，张总的心愿又实现了。</p>
<h2 id="Barrier"><a href="#Barrier" class="headerlink" title="Barrier"></a>Barrier</h2><p>一款开源的软件，同时支持<code>Windows</code>和<code>MacOS</code>，基于老牌软件<code>Synergy</code>开发。<code>Synergy</code>原本也是开源软件，后来商业化了。</p>
<p>官网地址：<a target="_blank" rel="noopener" href="https://github.com/debauchee/barrier">debauchee/barrier: Open-source KVM software</a></p>
<p>这款软件的使用就更简单了，设置好<code>服务端</code>(就是连接了键鼠，打算共享给其它机器用的电脑)，在其它机器上选择客户端，软件就会自动寻找。找到后分别启动服务端和客户端即可。</p>
<p>我在使用时去掉了SSL功能，因为我看日志里提示我找不到证书，反正在局域网内使用，这个证书意义感觉不大。<code>Barrier</code>同样支持跨机器复制粘贴。</p>
<h2 id="其它软件"><a href="#其它软件" class="headerlink" title="其它软件"></a>其它软件</h2><p>这一类软件里还有两个比较知名的，一个是前面提到的<a target="_blank" rel="noopener" href="https://symless.com/synergy">Synergy</a>，一个是<a target="_blank" rel="noopener" href="https://www.sharemouse.com/">Share Mouse</a>，因为都有收费才能使用的功能，对我来讲没有必要，也就没有进一步研究了。</p>
<p>像这样的神器软件，让人身心愉悦又不用花钱，实在是宅家必备，多多益善！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2022/Crash-of-ChinaEastAir/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/Crash-of-ChinaEastAir/" class="post-title-link" itemprop="url">东航一架波音737客机坠毁</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-21 21:26:51" itemprop="dateCreated datePublished" datetime="2022-03-21T21:26:51+08:00">2022-03-21</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2022/Crash-of-ChinaEastAir/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2022/Crash-of-ChinaEastAir/" data-xid="/2022/Crash-of-ChinaEastAir/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://cdn.jsdelivr.net/gh/sineks/sineks.github.io@hexoimgs//img/202203212123924.png"><br><em>（来自民航局网站：<a target="_blank" rel="noopener" href="http://www.caac.gov.cn/XWZX/MHYW/202203/t20220321_212463.html">东航一架波音737飞机坠毁民航局已启动应急机制</a></em>)</p>
<p>巨大的悲剧事件，希望能有人生还。作为老东航用户，也希望能尽快查明事件原因。每一次坠机事件都会牵动全世界人民的心。</p>
<p><img src="https://cdn.jsdelivr.net/gh/sineks/sineks.github.io@hexoimgs//img/202203212131616.png"><br><em>（东航官网已改为黑白色，向遇难者默哀！）</em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2022/A-Error-of-SSH-login-on-TencentCloud/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/A-Error-of-SSH-login-on-TencentCloud/" class="post-title-link" itemprop="url">一次奇葩的SSH登录错误</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-18 16:51:05" itemprop="dateCreated datePublished" datetime="2022-03-18T16:51:05+08:00">2022-03-18</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2022/A-Error-of-SSH-login-on-TencentCloud/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2022/A-Error-of-SSH-login-on-TencentCloud/" data-xid="/2022/A-Error-of-SSH-login-on-TencentCloud/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <style>
  /* 设置整个页面的字体 */
  html, body, .markdown-body {
    font-family:'Noto Serif', 'Noto Serif CJK SC', 'Noto Serif CJK', 'Source Han Serif SC', ‘Source Han Serif’, source-han-serif-sc, serif;
    font-size: 15px;
  }
</style>

<p>之前把腾讯云的服务器从密码改为密钥登录，今天用winscp盘的时候，发现用密钥死活登录不上去，一直提示：<code>&quot;Server refused our key&quot;</code>。在网上查了半天资料，确保自己的各项设置都没问题，<code>authorized_keys</code>权限和<code>.ssh</code>文件夹权限也都正确，<code>/etc/ssh/sshd_config</code>文件也设置无误，但用密钥就是登录不上。</p>
<p>在腾讯云控制台反复绑定、解绑密钥，不行。用自己生成的密钥对，也不行。改成密码登录倒是可以登录，但是这样一点不优雅。</p>
<p>服务器重启了无数次，后来无奈死心，改成密码登录。上去了一顿查看，发现有个很神奇的事情，我的<code>/root</code>文件夹的owner居然变成了<code>lighthouse</code>。我一脸问号，这是什么时候、怎么发生的事情？难道我的密钥登录失败就是因为这个？</p>
<p>于是迅速更改了<code>/root</code>的owner，并重新检查了<code>.ssh</code>目录和<code>authorized_keys</code>文件的权限。然后用本地生成的密钥一顿操作后，正常如初！</p>
<p>之前查资料的时候，发现其它地方都没问题，我就怀疑是不是有什么机关还没发现，开始还以为腾讯云有什么特别的设置，后来看了官方文档，也没发现异样。果然有时候问题藏在不经意之间，到现在也没明白这个目录的所有人怎么会变掉，按说只有root权限才可以做到，但我肯定没有作过类似操作。</p>
<p>root操作系统真不是个好习惯，要改！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2021/Pico-Github-jsDelivr-WebImages/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/Pico-Github-jsDelivr-WebImages/" class="post-title-link" itemprop="url">设置Github图床并在Picgo中配置jsDelivrCDN</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-12-09 15:06:44" itemprop="dateCreated datePublished" datetime="2021-12-09T15:06:44+08:00">2021-12-09</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2021/Pico-Github-jsDelivr-WebImages/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2021/Pico-Github-jsDelivr-WebImages/" data-xid="/2021/Pico-Github-jsDelivr-WebImages/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <style>
  /* 设置整个页面的字体 */
  html, body, .markdown-body {
    font-family:'Noto Serif', 'Noto Serif CJK SC', 'Noto Serif CJK', 'Source Han Serif SC', ‘Source Han Serif’, source-han-serif-sc, serif;
    font-size: 15px;
  }
</style>

<p>没有什么比把一个博客所有东西都放一块更规整的做法了。所以我选择用Github做这个博客的图床，并采用<strong>Niubility</strong>的<code>jsDelivr</code>作为CDN，享受飞一般的访问速度。本地当然是用同样<strong>Niubility</strong>的<code>Picgo</code>作为图床上传管理工具。</p>
<p>配置也非常简单，我是在博客仓库下新建了一个<code>hexoimgs</code>的分支，这样文件就不会到处散落。然后在Github上新建一个Token。</p>
<p>在<code>Picgo</code>中设置Github图床：</p>
<ul>
<li>仓库名为：username/reponame</li>
<li>分支名为：hexoimgs</li>
<li>Token：上述建立的Token</li>
<li>储存路径：我放在img下，所以这里写<code>img/</code></li>
<li>自定义域名：因为要用<code>jsDelivr</code>加速，所以这里要自定义域名格式，方便图片上传后直接引用，我的设定是：<code>https://cdn.jsdelivr.net/gh/sineks/sineks.github.io@hexoimgs/</code>，主要是仓库名后面<code>@</code>了分支名。这里不设置自定义域名，也一样可以在上传后将地址转成<code>jsDelivr</code>加速的地址。</li>
</ul>
<p>Picgo官网：<a target="_blank" rel="noopener" href="https://molunerfinn.com/PicGo/">PicGo</a></p>
<p>jsDelivr官网：<a target="_blank" rel="noopener" href="https://www.jsdelivr.com/">jsDelivr - A free, fast, and reliable CDN for open source</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2021/Push-Blog-To-VPS-With-GithubActions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/Push-Blog-To-VPS-With-GithubActions/" class="post-title-link" itemprop="url">Gihub Actions自动部署Hexo后推送至VPS</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-12-09 11:15:57" itemprop="dateCreated datePublished" datetime="2021-12-09T11:15:57+08:00">2021-12-09</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2021/Push-Blog-To-VPS-With-GithubActions/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2021/Push-Blog-To-VPS-With-GithubActions/" data-xid="/2021/Push-Blog-To-VPS-With-GithubActions/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前研究过通过<a target="_blank" rel="noopener" href="https://blog.muzy.cc/2021/DeployHexoBlogWithGithubAction/">Github Actions自动部署Hexo博客</a>，现在更进一步，将Github Actions生成的博客页面推送到自己的VPS上。</p>
<p>当我们在本地使用<code>hexo g</code>命令的时候，就是在本地完成了博客的编译工作，即将markdown文件转成html文件并构建好博客的布局、主题等等要素，再使用<code>hexo d</code>命令，就是将本地的静态页面push到Github上。现在使用Github Actions，其实就是将<code>hexo g</code>的过程放在Github服务器上完成了，这样一来，本地就只需要编写好markdown文件并推送到对应的Github仓库即可。</p>
<p>同时，Github上编译好整个静态网站后，网站文件也可以推送到其它任何服务器上，比如自己的VPS。方法也很简单，使用<code>rsyc</code>工具通过<code>SSH</code>的方式将网站文件推送到VPS即可。</p>
<h2 id="VPS上的准备工作"><a href="#VPS上的准备工作" class="headerlink" title="VPS上的准备工作"></a>VPS上的准备工作</h2><ul>
<li>安装rsync。有的服务器上没有默认安装，需要自行安装，我的Debian上使用<code>apt install rsync</code>即可。使用<code>rsync --version</code>命令可以检查有无安装及安装的版本；</li>
<li>如果VPS上只有<code>root</code>用户，出于安全考虑，可以新建一个用户专门用于接收推送；</li>
<li>生成一对SSH Key，用于SSH认证。用哪个用户进行SSH，SSH Key就要放在那个用户的home目录里，同时将公钥的内容输入到<code>~./.ssh/authorized_keys</code>中；</li>
<li>在VPS上指定一个目录用于接收推送过来的网站文件，安装Nginx，并配置好网站；</li>
</ul>
<h2 id="Github上的操作"><a href="#Github上的操作" class="headerlink" title="Github上的操作"></a>Github上的操作</h2><p>在仓库的<code>setting</code>-<code>secrets</code>中添加一个key，名称可以是<code>BLOG_DEPLOY_KEY</code>，内容为前述创建的私钥。再建立一个<code>SSH_HOST</code>的key，内容为VPS的IP或域名。</p>
<p>然后在Github Actions的<code>mian.yml</code>文件中最后添加以下内容：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">webfactory/ssh-agent@v0.4.1</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">ssh-private-key:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      $&#123;&#123; secrets.BLOG_DEPLOY_KEY &#125;&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Scan</span> <span class="string">Public</span> <span class="string">keys</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    ssh-keyscan $&#123;&#123; secrets.SSH_HOST &#125;&#125; &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">To</span> <span class="string">VPS</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">    <span class="string">rsync</span> <span class="string">-av</span> <span class="string">--delete</span> <span class="string">public/</span> <span class="string">username@$&#123;&#123;secrets.SSH_HOST&#125;&#125;:path/to/html</span></span><br></pre></td></tr></table></figure>
<p>当仓库有更新时，Github Actions会执行，最终能在VPS上看到自己的静态博客站点文件。<br>如果发生错误，根据错误提示进行纠正即可。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2021/testgithubaction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/testgithubaction/" class="post-title-link" itemprop="url">testgithubaction</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-10-26 17:08:00" itemprop="dateCreated datePublished" datetime="2021-10-26T17:08:00+08:00">2021-10-26</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2021/testgithubaction/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2021/testgithubaction/" data-xid="/2021/testgithubaction/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>测试一下github action有没有生效。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2021/DeployHexoBlogWithGithubAction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/DeployHexoBlogWithGithubAction/" class="post-title-link" itemprop="url">通过Github Actions自动部署Hexo博客</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-10-26 16:56:50" itemprop="dateCreated datePublished" datetime="2021-10-26T16:56:50+08:00">2021-10-26</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2021/DeployHexoBlogWithGithubAction/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2021/DeployHexoBlogWithGithubAction/" data-xid="/2021/DeployHexoBlogWithGithubAction/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>把Hexo托管到Github，通过Github Actions自动部署博客，算是使用Hexo的一种比较方便的方案，用户只需要在本地用趁手的Markdown书写工具，写好文章并推送至Github仓库即可。</p>
<h1 id="Github-Actions工作流设置"><a href="#Github-Actions工作流设置" class="headerlink" title="Github Actions工作流设置"></a>Github Actions工作流设置</h1><p>完成该工作仅需要两步：</p>
<ul>
<li>部署密钥</li>
<li>编写Workflow</li>
</ul>
<h2 id="弄清仓库结构"><a href="#弄清仓库结构" class="headerlink" title="弄清仓库结构"></a>弄清仓库结构</h2><p>我的Hexo仓库放置在sineks/sineks.github.io仓库中，该仓库有两个分支：<code>master</code>分支存放生成的博客文件，<code>hexosource</code>存放hexo博客源文件，同时仓库设置的默认分支是<code>hexosource</code>。<br>网络上有一些教程，博客文件和源文件是分别放在不同的仓库中的，这种情况下Github Actions的Workflow文件要放在源码仓库中。</p>
<h2 id="生成并部署密钥"><a href="#生成并部署密钥" class="headerlink" title="生成并部署密钥"></a>生成并部署密钥</h2><p>生成密钥命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -f hexo-deploy-key -C <span class="string">&quot;sineks.github.io&quot;</span></span><br></pre></td></tr></table></figure>
<p>在<code>git bash</code>中运行该命令，会在当前文件夹下生成<code>hexo-deploy-key</code>和<code>hexo-deploy-key.pub</code>一对密钥。<code>-f</code>参数是指定生成密钥的名字<code>hexo-deploy-key</code></p>
<p>然后将生成的密钥文件部署到仓库中，首先是部署公钥：<br><img src="https://cdn.jsdelivr.net/gh/sineks/sineks.github.io@hexoimgs/img/202110262136329.png"><br>如图所示，点击<code>Add Deploy Key</code>，将<code>hexo-deploy-key.pub</code>中的内容复制进去，并命名为<code>hexo-deploy-key</code></p>
<p>部署私钥：<br><img src="https://cdn.jsdelivr.net/gh/sineks/sineks.github.io@hexoimgs/img/202110262135035.png"><br>如上图所示，点击<code>New repository secret</code>，将<code>hexo-deploy-key</code>中的内容粘贴进去，命名为<code>DEPLOY_SECRET</code>(注意，后面workflow中的名字要跟这里的名字一样)</p>
<h2 id="编写Workflow"><a href="#编写Workflow" class="headerlink" title="编写Workflow"></a>编写Workflow</h2><p>在hexo博客的源文件目录中新建<code>.github/workflows</code>文件夹，并在文件夹中新建<code>main.yaml</code>文件。（也可以在Github仓库中的<code>Actions</code>标签下操作。<br><code>main.yaml</code>文件内容如下：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">hexo</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">hexosource</span></span><br><span class="line"></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">GIT_USER:</span> <span class="string">sineks</span></span><br><span class="line">  <span class="attr">GIT_EMAIL:</span> <span class="string">greatubuntu@gmail.com</span></span><br><span class="line">  <span class="attr">DEPLOY_REPO:</span> <span class="string">sineks/sineks.github.io</span></span><br><span class="line">  <span class="attr">DEPLOY_BRANCH:</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">Build</span> <span class="string">on</span> <span class="string">node</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node_version</span> <span class="string">&#125;&#125;</span> <span class="string">and</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">      <span class="attr">matrix:</span></span><br><span class="line">        <span class="attr">os:</span> [<span class="string">ubuntu-latest</span>]</span><br><span class="line">        <span class="attr">node_version:</span> [<span class="number">14.</span><span class="string">x</span>]</span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">deploy</span> <span class="string">repo</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.DEPLOY_REPO</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.DEPLOY_BRANCH</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">.deploy_git</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node_version</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node_version</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Configuration</span> <span class="string">environment</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">DEPLOY_SECRET:</span> <span class="string">$&#123;&#123;secrets.DEPLOY_SECRET&#125;&#125;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          sudo timedatectl set-timezone &quot;Asia/Shanghai&quot;</span></span><br><span class="line"><span class="string">          mkdir -p ~/.ssh/</span></span><br><span class="line"><span class="string">          echo &quot;$DEPLOY_SECRET&quot; &gt; ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">          chmod 600 ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string">          git config --global user.name $GIT_USER</span></span><br><span class="line"><span class="string">          git config --global user.email $GIT_EMAIL</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">dependencies</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          npm install</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">hexo</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">run</span> <span class="string">deploy</span></span><br></pre></td></tr></table></figure>
<p>这个配置基本上也是我照着网上抄来的，注意借鉴的是这篇文章：<a target="_blank" rel="noopener" href="https://sanonz.github.io/2020/deploy-a-hexo-blog-from-github-actions/#Workflow-%E6%A8%A1%E7%89%88">利用 Github Actions 自动部署 Hexo 博客 | Sanonz</a></p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>通过以上步骤配置好Github的Actions后，只要分支<code>hexosource</code>中的文件发生变化，Actions就会自动运行，很快就能在博客地址上看到结果。<br>为了方便使用，我在本地使用<code>Atom</code>来书写文章和发布到Github仓库，这个软件是Github出品，对Github的集成做的很好。<br>我的Atom界面：<br><img src="https://raw.githubusercontent.com/sineks/sineks.github.io/hexoimgs/img/202110262128009.png"><br>各部分说明：</p>
<ul>
<li>A：Project，将hexo源目录添加到这里，方便进行文件树方式的管理；</li>
<li>B：编辑区</li>
<li>C：预览区，这里安装了插件<code>Markdown Preview Enhanced</code></li>
<li>D：Git区，在Git标签下可以看到当前git仓库的变更情况，在这里可以进行<code>git add</code>和<code>git commit</code>操作，然后在右下角状态栏里<code>Fecth</code>字样处，如果有需要Push的操作时，这里会变成<code>Push</code>。</li>
<li>E：命令行，这里安装了插件<code>platformio-ide-termianl</code>，我在这里主要是进行<code>hexo new post</code>操作，这样生成的markdown文件会包含hexo博客所需的源信息。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2021/testnew/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/testnew/" class="post-title-link" itemprop="url">testnew</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-10-25 17:08:00" itemprop="dateCreated datePublished" datetime="2021-10-25T17:08:00+08:00">2021-10-25</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2021/testnew/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2021/testnew/" data-xid="/2021/testnew/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>更换电脑后，测试一下Hexo</strong></p>
<p>看看是否能发布成功</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2020/add-gitalk-to-hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/add-gitalk-to-hexo/" class="post-title-link" itemprop="url">Hexo博客Next主题添加Gitalk评论插件</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-04-12 20:29:35" itemprop="dateCreated datePublished" datetime="2020-04-12T20:29:35+08:00">2020-04-12</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2020/add-gitalk-to-hexo/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2020/add-gitalk-to-hexo/" data-xid="/2020/add-gitalk-to-hexo/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>为了给这个博客加个评论功能，网上搜索一番，找到N个教程，做了M个尝试，最后发现自己蠢死了，我用的Next主题版本自带gitalk功能，简单配置一下就行了。</p>
<h2 id="申请Github的OAuth应用程序"><a href="#申请Github的OAuth应用程序" class="headerlink" title="申请Github的OAuth应用程序"></a>申请Github的OAuth应用程序</h2><p><a target="_blank" rel="noopener" href="https://github.com/settings/developers">申请地址</a><br>登陆后点击右上的<code>New OAuth APP</code>按钮，看下图填写(盗一个知乎的图）：<br><img src="https://pic2.zhimg.com/80/v2-054ceed11a9a35e0855136ef21061b81_720w.jpg" alt="newoauthapp"><br>需要注意的是，如果绑定了自己的域名，这里<code>主页网址</code>和<code>授权回调网址</code>请填写自己的域名地址，比如我填写的就是<code>https://blog.muzy.cc</code>。</p>
<p>注册后会得到<code>Client ID</code>和<code>Client Secret</code>两个参数。</p>
<h2 id="配置Next主题"><a href="#配置Next主题" class="headerlink" title="配置Next主题"></a>配置Next主题</h2><p>我的Next主题版本是<code>NexT.Muse v7.7.1</code>，可以直接配置gitalk。打开位于<code>/themes/next/</code>下的<code>_config.yml</code>文件，找到<code>gitalk</code>模块，按照以下配置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># Gitalk</span><br><span class="line"># For more information: https://gitalk.github.io, https://github.com/gitalk/gitalk</span><br><span class="line">gitalk:</span><br><span class="line">  enable: true</span><br><span class="line">  github_id: sineks # GitHub repo owner</span><br><span class="line">  repo: sineks.github.io # Repository name to store issues</span><br><span class="line">  client_id: xxxxxxxxxxx # 申请的Client ID</span><br><span class="line">  client_secret: xxxxxxxxxxxxxxxxxxxxxx # 申请的Client Secret</span><br><span class="line">  admin_user: sineks # GitHub repo owner and collaborators, only these guys can initialize gitHub issues</span><br><span class="line">  distraction_free_mode: true # Facebook-like distraction free mode</span><br><span class="line">  # Gitalk&#x27;s display language depends on user&#x27;s browser or system environment</span><br><span class="line">  # If you want everyone visiting your site to see a uniform language, you can set a force language value</span><br><span class="line">  # Available values: en | es-ES | fr | ru | zh-CN | zh-TW</span><br><span class="line">  language:</span><br></pre></td></tr></table></figure>

<p>填好配置后保存。然后：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s //本地测试一下，没问题再deploy</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>不出意外在文章尾部应该就能看到gitalk模块了。第一次gitalk模块还不能用，提示什么<code>no issue</code>，需要自己登陆github后评论一下，相当于激活了，忘记截图，大概就这么回事吧。</p>
<p>整个过程简单方便，不用什么新建这个文件修改那个配置的。搞定手工！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://15.204647.xyz/2020/setup-git-server-on-lan-server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="iubuntu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DEEP OCEAN">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/setup-git-server-on-lan-server/" class="post-title-link" itemprop="url">局域网安装配置Git服务器并实现往外访问和工作区同步到服务器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-03-28 23:56:44" itemprop="dateCreated datePublished" datetime="2020-03-28T23:56:44+08:00">2020-03-28</time>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2020/setup-git-server-on-lan-server/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/2020/setup-git-server-on-lan-server/" data-xid="/2020/setup-git-server-on-lan-server/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近在折腾Git，想尝试自己建一个Git服务器。闲置的笔记本正好可以用来做Server，建立过程中也遇到一些问题，故在此记录。</p>
<p>首先，整个环境为：</p>
<ul>
<li>局域网内笔记本安装Ubuntu Server 18.0.4</li>
<li>有外网IP并已做好域名解析</li>
<li>已做好端口映射，因为是通过SSH服务，端口映射为内网22，外网出于安全选了一个其它端口，因此外网访问时地址为：<code>ssh://domain:proxy/directory/to/githubrepo</code></li>
</ul>
<p>建立Git服务器过程主要参考<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/896043488029600/899998870925664">廖雪峰教程</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/setup-git-server-on-lan-server/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2020 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">iubuntu</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  




<script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"sineks-waline-9uaq0kt0g-sineks.vercel.app","placeholder":"请文明评论呀","avatar":"mm","pageSize":10,"visitor":false,"comment_count":true,"requiredFields":[],"meta":["nick","mail","link"],"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","el":"#waline-comments","path":"/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() => 
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => {
    new Waline(CONFIG.waline);
  });
});
</script>
</body>
</html>
